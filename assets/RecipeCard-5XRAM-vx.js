import{j as t,o as _,i as F,r as i,s as W,y as R,z as k,L as l,F as p,I as N,C as w,n as O,l as L}from"./index-_J0qRqtA.js";import{w as M,h as g}from"./handleFavorite-CAELNMmO.js";const $="_recipeImage_lsqtp_1",B="_style_button_favorit_lsqtp_17",D="_style_button_notFavorit_lsqtp_41",U="_textWrap_lsqtp_49",E="_recipeDescription_lsqtp_57",T="_avatarBtnswrap_lsqtp_77",A="_avatarWrapper_lsqtp_97",z="_avatar_lsqtp_77",G="_iconWrapper_lsqtp_117",H="_iconList_lsqtp_167",J="_recipeCard_lsqtp_181",K="_header_card_lsqtp_189",e={recipeImage:$,style_button_favorit:B,style_button_notFavorit:D,textWrap:U,recipeDescription:E,avatarBtnswrap:T,avatarWrapper:A,avatar:z,iconWrapper:G,iconList:H,recipeCard:J,header_card:K},P="_section_subtitle_w8jh6_1",Q={section_subtitle:P},V=({text:a,customStyle:s})=>t.jsx("h3",{className:_(Q.section_subtitle,s),children:a}),X=a=>a.favoriteRecipes.favorites,tt=({recipe:a})=>{const{_id:s,title:d,owner:r,description:I,thumb:S}=a,n=F(X),[v,o]=i.useState(n.includes(s)),y=F(W),[c,u]=i.useState(!1),[m,b]=i.useState(!0),[x,f]=i.useState(!1),[C]=R(),[q]=k();i.useEffect(()=>{o(n.includes(s))},[n,s]);const h=()=>{f(!x),b(!m)},j=()=>{v?g(q,s,"delete",o):g(C,s,"add",o)};return t.jsxs(t.Fragment,{children:[t.jsxs("li",{className:_(e.recipeCard),children:[t.jsx(l,{to:`/recipe/${s}`,children:t.jsx("img",{src:S,alt:d,className:e.recipeImage})}),t.jsxs("div",{className:e.textWrap,children:[t.jsx(V,{customStyle:e.header_card,text:d}),t.jsx("p",{className:e.recipeDescription,children:I})]}),t.jsxs("div",{className:e.avatarBtnswrap,children:[t.jsxs(l,{to:`/user/${r._id}`,className:_(e.avatarWrapper),children:[t.jsx("img",{src:r.avatar||`${M}`,alt:`${r.name} avatar`,className:e.avatar}),t.jsx("span",{children:r.name})]}),t.jsxs("ul",{className:e.iconList,children:[t.jsx("li",{children:y?v?t.jsx(p,{style:e.style_button_favorit,stroke:"#FFF",iconId:"icon-heart",onClick:j}):t.jsx(p,{style:e.style_button_notFavorit,iconId:"icon-heart",onClick:j}):t.jsx(p,{style:e.style_button_notFavorit,iconId:"icon-heart",onClick:()=>{u(!c)}})}),t.jsx("li",{children:t.jsx(l,{to:`/recipe/${s}`,className:e.iconWrapper,children:t.jsx(N,{iconId:"icon-arrow-up-right"})})})]})]})]}),t.jsxs(w,{isOpen:c,onClose:()=>u(!c),children:[x&&t.jsx(O,{handleClickSignIn:h}),m&&t.jsx(L,{handleClickSignUp:h})]})]})};export{tt as R,X as s};
