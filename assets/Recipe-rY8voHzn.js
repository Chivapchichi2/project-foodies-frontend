import{p as L,j as e,q as z,k as w,t as W,r as g,s as B,v as C,w as F,B as f,c as j,N as m,x as q,I as P,y as D,z as T,A,D as S}from"./index-CR1s_VMy.js";import{w as y}from"./user_without_avatar-Dha2JWmk.js";const N=async(s,i,r,t)=>{try{await s(i).unwrap(),L.success(`Recipe ${r==="add"?"added to":"deleted from"} favorites!`),t(r==="add")}catch(c){console.error("Failed to add recipe to favorites: ",c)}},E="_recipe_info_container_1a2kn_1",M="_recipe_info_wrapper_1a2kn_3",H="_recipe_img_1a2kn_21",u={recipe_info_container:E,recipe_info_wrapper:M,recipe_img:H},O="_ingredients_item_w1ukj_1",G="_ingredients_img_w1ukj_15",Q="_ingredients_info_w1ukj_33",K="_ingredients_mesure_w1ukj_49",X="_ingredients_list_w1ukj_57",Z="_ingredients_subtitel_w1ukj_77",_={ingredients_item:O,ingredients_img:G,ingredients_info:Q,ingredients_mesure:K,ingredients_list:X,ingredients_subtitel:Z},J="/project-foodies-frontend/assets/ingredient_without_img-DgeLwZWu.jpg",U=({pathImg:s,name:i,mesure:r})=>e.jsxs("li",{className:_.ingredients_item,children:[e.jsx("img",{className:_.ingredients_img,src:s||J,alt:`${i} image`}),e.jsxs("div",{className:_.ingredients_info,children:[e.jsx("p",{children:i}),e.jsx("p",{className:_.ingredients_mesure,children:r})]})]}),V=({ingredients:s})=>e.jsx("ul",{className:_.ingredients_list,children:s.map(({ingredient:i,mesure:r})=>e.jsx(U,{pathImg:i.img,name:i.name,mesure:r},i._id))}),Y=({ingredients:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:_.ingredients_subtitel,children:"Ingredients"}),e.jsx(V,{ingredients:s})]}),ee="_owner_card_1rqz9_1",se="_owner_photo_1rqz9_11",ie="_owner_sign_1rqz9_23",re="_owner_primary_info_wrapper_1rqz9_35",te="_profile_big_card_icon_1rqz9_51",p={owner_card:ee,owner_photo:se,owner_sign:ie,owner_primary_info_wrapper:re,profile_big_card_icon:te},ne=({owner:s})=>{const{avatar:i,name:r}=s;return e.jsxs("div",{className:p.owner_card,children:[e.jsx("img",{className:p.owner_photo,src:i||y,alt:`${r} photo`}),e.jsxs("div",{className:p.owner_primary_info_wrapper,children:[e.jsx("span",{className:p.owner_sign,children:"Created by:"}),e.jsx("h4",{children:r})]})]})},ae="_tags_list_13jcq_1",ce="_tag_list_item_13jcq_13",k={tags_list:ae,tag_list_item:ce},oe=({tagInfo:s})=>e.jsx("li",{className:k.tag_list_item,children:Number(s)?`${s} min`:s}),_e=({tags:s})=>{const i=Object.keys(s);return e.jsx("ul",{className:k.tags_list,children:i.map(r=>e.jsx(oe,{tagInfo:s[r]},z()))})},pe="_recipe_main_info_wrapper_1uv7g_1",de="_recipe_header_1uv7g_15",le="_recipe_description_1uv7g_27",h={recipe_main_info_wrapper:pe,recipe_header:de,recipe_description:le},me=({data:s})=>{const{area:i,category:r,time:t,title:c,description:n,owner:o}=s;return e.jsxs("div",{className:h.recipe_main_info_wrapper,children:[e.jsx("h3",{className:h.recipe_header,children:c}),e.jsx(_e,{tags:{area:i,category:r,time:t}}),e.jsx("p",{className:h.recipe_description,children:n}),e.jsx(ne,{owner:o})]})},ue=s=>s.split(`\r
`).filter(i=>i.trim()!=="").map(i=>`<p>${i}</p><br>`).join(""),he="_recipe_preparation_1hfuv_1",ge="_instruction_1hfuv_19",b={recipe_preparation:he,instruction:ge},je=({instruction:s})=>e.jsxs("div",{children:[e.jsx("h4",{className:b.recipe_preparation,children:"Recipe Preparation"}),e.jsx("div",{className:b.instruction,dangerouslySetInnerHTML:{__html:ue(s)}})]}),xe="/project-foodies-frontend/assets/recipe_without_img-Bp4tHiOX.jpg",ve=({recipe:s})=>{const{thumb:i,title:r,instructions:t,ingredients:c,_id:n}=s,o=w(W),[R,l]=g.useState(o.includes(n)),v=w(B);console.log(v),g.useEffect(()=>{l(o.includes(n))},[o,n]);const[I]=C(),[$]=F();return e.jsxs("section",{className:u.recipe_info_container,children:[e.jsx("img",{className:u.recipe_img,src:i||xe,alt:r}),e.jsxs("div",{className:u.recipe_info_wrapper,children:[e.jsx(me,{data:s}),e.jsx(Y,{ingredients:c}),e.jsx(je,{instruction:t}),v?R?e.jsx(f,{text:"Remove from favorites",variant:"add_favorite",onClick:()=>N($,n,"delete",l)}):e.jsx(f,{text:"Add to favorites",variant:"add_favorite",onClick:()=>N(I,n,"add",l)}):""]})]})},we="_header_popular_recipes_cshxa_1",fe="_popular_recipes_container_cshxa_17",Ne="_popular_recipes_list_cshxa_33",x={header_popular_recipes:we,popular_recipes_container:fe,popular_recipes_list:Ne},be="_recipeImage_1dz4h_1",ye="_textWrap_1dz4h_17",ke="_recipeDescription_1dz4h_25",Re="_avatarBtnswrap_1dz4h_45",Ie="_avatarWrapper_1dz4h_53",$e="_avatar_1dz4h_45",Le="_iconWrapper_1dz4h_73",ze="_iconList_1dz4h_111",We="_recipeCard_1dz4h_125",a={recipeImage:be,textWrap:ye,recipeDescription:ke,avatarBtnswrap:Re,avatarWrapper:Ie,avatar:$e,iconWrapper:Le,iconList:ze,recipeCard:We},Be="_section_subtitle_w8jh6_1",Ce={section_subtitle:Be},Fe=({text:s})=>e.jsx("h3",{className:j(Ce.section_subtitle),children:s}),qe=({recipe:s})=>{const{_id:i,title:r,owner:t,description:c,thumb:n}=s,o=()=>{console.log(`Adding recipe ${i} to favorites`)};return e.jsxs("li",{className:j(a.recipeCard),children:[e.jsx(m,{to:`/recipe/${i}`,children:e.jsx("img",{src:n,alt:r,className:a.recipeImage})}),e.jsxs("div",{className:a.textWrap,children:[e.jsx(Fe,{text:r}),e.jsx("p",{className:a.recipeDescription,children:c})]}),e.jsxs("div",{className:a.avatarBtnswrap,children:[e.jsxs(m,{to:`/user/${t._id}`,className:j(a.avatarWrapper),children:[e.jsx("img",{src:t.avatar||`${y}`,alt:`${t.name} avatar`,className:a.avatar}),e.jsx("span",{children:t.name})]}),e.jsxs("ul",{className:a.iconList,children:[e.jsx("li",{children:e.jsx(q,{iconId:"icon-heart",onClick:o})}),e.jsx("li",{children:e.jsx(m,{to:`/recipe/${i}`,className:a.iconWrapper,children:e.jsx(P,{iconId:"icon-arrow-up-right"})})})]})]})]})},Pe=({recipes:s})=>{const{data:i}=s;return e.jsxs("ul",{className:x.popular_recipes_list,children:[i.map(({recipe:r})=>e.jsx(qe,{recipe:r},r._id))," "]})},De=()=>{const{data:s,isLoading:i}=D();return e.jsxs("section",{className:x.popular_recipes_container,children:[e.jsx("h3",{className:x.header_popular_recipes,children:"Popular recipes"}),i?e.jsx("p",{children:"Loading..."}):e.jsx(Pe,{recipes:s})]})},Te="_main_container_jkri4_1",Ae={main_container:Te},Se="_breadcrumbs_15da4_3",Ee="_slash_15da4_21",Me="_link_to_home_15da4_29",He="_current_page_15da4_39",d={breadcrumbs:Se,slash:Ee,link_to_home:Me,current_page:He},Oe=({currentPage:s})=>e.jsxs("div",{className:d.breadcrumbs,children:[e.jsx(T,{to:"/",className:d.link_to_home,children:"Home"}),e.jsx("span",{className:d.slash,children:"/"}),e.jsx("span",{className:d.current_page,children:s})]}),Ke=()=>{const{id:s}=A(),{data:i,isLoading:r}=S(s);return g.useEffect(()=>{window.scrollTo(0,0)},[s]),e.jsx(e.Fragment,{children:e.jsxs("main",{className:Ae.main_container,children:[i&&e.jsx(Oe,{currentPage:i.data.title}),r?e.jsx("p",{children:"Loading..."}):e.jsx(ve,{recipe:i.data}),e.jsx(De,{})]})})};export{Ke as default};
