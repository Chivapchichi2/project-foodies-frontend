import{j as e,p as W,k as L,q as k,r as v,t as I,v as b,B as x,c as m,N as p,w as U,I as T,x as z,y as E,z as F}from"./index-BFhESUtt.js";const h=async(s,r,A,i)=>{try{await s(r).unwrap(),alert(`Recipe ${A==="add"?"added to":"deleted from"} favorites!`),i(A==="add")}catch(a){console.error("Failed to add recipe to favorites: ",a)}},V="_recipe_info_container_1a2kn_1",J="_recipe_info_wrapper_1a2kn_3",Q="_recipe_img_1a2kn_21",l={recipe_info_container:V,recipe_info_wrapper:J,recipe_img:Q},K="_ingredients_item_w1ukj_1",D="_ingredients_img_w1ukj_15",q="_ingredients_info_w1ukj_33",P="_ingredients_mesure_w1ukj_49",O="_ingredients_list_w1ukj_57",M="_ingredients_subtitel_w1ukj_77",c={ingredients_item:K,ingredients_img:D,ingredients_info:q,ingredients_mesure:P,ingredients_list:O,ingredients_subtitel:M},Z=({pathImg:s,name:r,mesure:A})=>e.jsxs("li",{className:c.ingredients_item,children:[e.jsx("img",{className:c.ingredients_img,src:s,alt:`${r} image`}),e.jsxs("div",{className:c.ingredients_info,children:[e.jsx("p",{children:r}),e.jsx("p",{className:c.ingredients_mesure,children:A})]})]}),Y=({ingredients:s})=>e.jsx("ul",{className:c.ingredients_list,children:s.map(({ingredient:r,mesure:A})=>e.jsx(Z,{pathImg:r.img,name:r.name,mesure:A},r._id))}),X=({ingredients:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:c.ingredients_subtitel,children:"Ingredients"}),e.jsx(Y,{ingredients:s})]}),G="_owner_card_1rqz9_1",H="_owner_photo_1rqz9_11",$="_owner_sign_1rqz9_23",ee="_owner_primary_info_wrapper_1rqz9_35",se="_profile_big_card_icon_1rqz9_51",_={owner_card:G,owner_photo:H,owner_sign:$,owner_primary_info_wrapper:ee,profile_big_card_icon:se},N="data:image/jpeg;base64,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",re=({owner:s})=>{const{avatar:r,name:A}=s;return e.jsxs("div",{className:_.owner_card,children:[e.jsx("img",{className:_.owner_photo,src:r||N,alt:`${A} photo`}),e.jsxs("div",{className:_.owner_primary_info_wrapper,children:[e.jsx("span",{className:_.owner_sign,children:"Created by:"}),e.jsx("h4",{children:A})]})]})},Ae="_tags_list_13jcq_1",ie="_tag_list_item_13jcq_13",w={tags_list:Ae,tag_list_item:ie},te=({tagInfo:s})=>e.jsx("li",{className:w.tag_list_item,children:Number(s)?`${s} min`:s}),ae=({tags:s})=>{const r=Object.keys(s);return e.jsx("ul",{className:w.tags_list,children:r.map(A=>e.jsx(te,{tagInfo:s[A]},W()))})},ne="_recipe_main_info_wrapper_1uv7g_1",ce="_recipe_header_1uv7g_15",oe="_recipe_description_1uv7g_27",d={recipe_main_info_wrapper:ne,recipe_header:ce,recipe_description:oe},_e=({data:s})=>{const{area:r,category:A,time:i,title:a,description:n,owner:o}=s;return e.jsxs("div",{className:d.recipe_main_info_wrapper,children:[e.jsx("h3",{className:d.recipe_header,children:a}),e.jsx(ae,{tags:{area:r,category:A,time:i}}),e.jsx("p",{className:d.recipe_description,children:n}),e.jsx(re,{owner:o})]})},pe=s=>s.split(`\r
`).filter(r=>r.trim()!=="").map(r=>`<p>${r}</p><br>`).join(""),le="_recipe_preparation_1hfuv_1",de="_instruction_1hfuv_19",j={recipe_preparation:le,instruction:de},me=({instruction:s})=>e.jsxs("div",{children:[e.jsx("h4",{className:j.recipe_preparation,children:"Recipe Preparation"}),e.jsx("div",{className:j.instruction,dangerouslySetInnerHTML:{__html:pe(s)}})]}),ue=({recipe:s})=>{const{thumb:r,title:A,instructions:i,ingredients:a,_id:n}=s,o=L(k),[f,g]=v.useState(o.some(({recipe:S})=>S._id===n)),[y,{isLoading:B}]=I(),[R,{isLoading:C}]=b();return console.log(B,C),e.jsxs("section",{className:l.recipe_info_container,children:[e.jsx("img",{className:l.recipe_img,src:r,alt:A}),e.jsxs("div",{className:l.recipe_info_wrapper,children:[e.jsx(_e,{data:s}),e.jsx(X,{ingredients:a}),e.jsx(me,{instruction:i}),f?e.jsx(x,{text:"delete from favorite",variant:"add_favorite",onClick:()=>h(R,n,"delete",g)}):e.jsx(x,{text:"add to favorite",variant:"add_favorite",onClick:()=>h(y,n,"add",g)})]})]})},ge="_header_popular_recipes_cshxa_1",xe="_popular_recipes_container_cshxa_17",he="_popular_recipes_list_cshxa_33",u={header_popular_recipes:ge,popular_recipes_container:xe,popular_recipes_list:he},je="_recipeImage_1dz4h_1",ve="_textWrap_1dz4h_17",Ne="_recipeDescription_1dz4h_25",we="_avatarBtnswrap_1dz4h_45",fe="_avatarWrapper_1dz4h_53",ye="_avatar_1dz4h_45",Be="_iconWrapper_1dz4h_73",Re="_iconList_1dz4h_111",Ce="_recipeCard_1dz4h_125",t={recipeImage:je,textWrap:ve,recipeDescription:Ne,avatarBtnswrap:we,avatarWrapper:fe,avatar:ye,iconWrapper:Be,iconList:Re,recipeCard:Ce},Se="_section_subtitle_w8jh6_1",We={section_subtitle:Se},Le=({text:s})=>e.jsx("h3",{className:m(We.section_subtitle),children:s}),ke=({recipe:s})=>{const{_id:r,title:A,owner:i,description:a,thumb:n}=s,o=()=>{console.log(`Adding recipe ${r} to favorites`)};return e.jsxs("li",{className:m(t.recipeCard),children:[e.jsx(p,{to:`/recipe/${r}`,children:e.jsx("img",{src:n,alt:A,className:t.recipeImage})}),e.jsxs("div",{className:t.textWrap,children:[e.jsx(Le,{text:A}),e.jsx("p",{className:t.recipeDescription,children:a})]}),e.jsxs("div",{className:t.avatarBtnswrap,children:[e.jsxs(p,{to:`/user/${i._id}`,className:m(t.avatarWrapper),children:[e.jsx("img",{src:i.avatar||`${N}`,alt:`${i.name} avatar`,className:t.avatar}),e.jsx("span",{children:i.name})]}),e.jsxs("ul",{className:t.iconList,children:[e.jsx("li",{children:e.jsx(U,{iconId:"icon-heart",onClick:o})}),e.jsx("li",{children:e.jsx(p,{to:`/recipe/${r}`,className:t.iconWrapper,children:e.jsx(T,{iconId:"icon-arrow-up-right"})})})]})]})]})},Ie=({recipes:s})=>{const{data:r}=s;return e.jsxs("ul",{className:u.popular_recipes_list,children:[r.map(({recipe:A})=>e.jsx(ke,{recipe:A},A._id))," "]})},be=()=>{const{data:s,isLoading:r}=z();return e.jsxs("section",{className:u.popular_recipes_container,children:[e.jsx("h3",{className:u.header_popular_recipes,children:"Popular recipes"}),r?e.jsx("p",{children:"Loading..."}):e.jsx(Ie,{recipes:s})]})},Ue="_main_recipe_container_bjjog_1",Te={main_recipe_container:Ue},Ee=()=>{const{id:s}=E(),{data:r,isLoading:A}=F(s);return v.useEffect(()=>{window.scrollTo(0,0)},[s]),e.jsxs("main",{className:Te.main_recipe_container,children:[A?e.jsx("p",{children:"Loading..."}):e.jsx(ue,{recipe:r.data}),e.jsx(be,{})]})};export{Ee as default};
