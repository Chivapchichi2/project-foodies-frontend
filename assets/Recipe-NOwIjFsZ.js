import{j as e,L as $,x as O,i as v,r as t,s as M,y as P,z as B,B as m,C as T,n as A,l as E,A as U,w as N,D as q,E as D}from"./index-_J0qRqtA.js";import{w as G,h as y}from"./handleFavorite-CAELNMmO.js";import{s as H,R as Q}from"./RecipeCard-5XRAM-vx.js";import{B as z}from"./BreadCrumbs-CFHeAMco.js";const K="_recipe_info_container_1a2kn_1",W="_recipe_info_wrapper_1a2kn_3",X="_recipe_img_1a2kn_21",u={recipe_info_container:K,recipe_info_wrapper:W,recipe_img:X},Z="_ingredients_item_w1ukj_1",J="_ingredients_img_w1ukj_15",V="_ingredients_info_w1ukj_33",Y="_ingredients_mesure_w1ukj_49",ee="_ingredients_list_w1ukj_57",se="_ingredients_subtitel_w1ukj_77",a={ingredients_item:Z,ingredients_img:J,ingredients_info:V,ingredients_mesure:Y,ingredients_list:ee,ingredients_subtitel:se},ie="/project-foodies-frontend/assets/ingredient_without_img-DgeLwZWu.jpg",ne=({pathImg:s,name:i,mesure:n})=>e.jsxs("li",{className:a.ingredients_item,children:[e.jsx("img",{className:a.ingredients_img,src:s||ie,alt:`${i} image`}),e.jsxs("div",{className:a.ingredients_info,children:[e.jsx("p",{children:i}),e.jsx("p",{className:a.ingredients_mesure,children:n})]})]}),re=({ingredients:s})=>e.jsx("ul",{className:a.ingredients_list,children:s.map(({ingredient:i,mesure:n})=>e.jsx(ne,{pathImg:i.img,name:i.name,mesure:n},i._id))}),te=({ingredients:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:a.ingredients_subtitel,children:"Ingredients"}),e.jsx(re,{ingredients:s})]}),ae="_owner_card_1lkyf_1",oe="_owner_photo_1lkyf_11",ce="_owner_sign_1lkyf_23",_e="_owner_primary_info_wrapper_1lkyf_35",pe="_profile_big_card_icon_1lkyf_53",_={owner_card:ae,owner_photo:oe,owner_sign:ce,owner_primary_info_wrapper:_e,profile_big_card_icon:pe},le=({owner:s})=>{const{avatar:i,name:n,_id:o}=s;return e.jsxs($,{to:`/user/${o}`,className:_.owner_card,children:[e.jsx("img",{className:_.owner_photo,src:i||G,alt:`${n} photo`}),e.jsxs("div",{className:_.owner_primary_info_wrapper,children:[e.jsx("span",{className:_.owner_sign,children:"Created by:"}),e.jsx("h4",{children:n})]})]})},de="_tags_list_13jcq_1",me="_tag_list_item_13jcq_13",R={tags_list:de,tag_list_item:me},ue=({tagInfo:s})=>e.jsx("li",{className:R.tag_list_item,children:Number(s)?`${s} min`:s}),ge=({tags:s})=>{const i=Object.keys(s);return e.jsx("ul",{className:R.tags_list,children:i.map(n=>e.jsx(ue,{tagInfo:s[n]},O()))})},je="_recipe_main_info_wrapper_1uv7g_1",he="_recipe_header_1uv7g_15",xe="_recipe_description_1uv7g_27",g={recipe_main_info_wrapper:je,recipe_header:he,recipe_description:xe},fe=({data:s})=>{const{area:i,category:n,time:o,title:p,description:r,owner:c}=s;return e.jsxs("div",{className:g.recipe_main_info_wrapper,children:[e.jsx("h3",{className:g.recipe_header,children:p}),e.jsx(ge,{tags:{area:i,category:n,time:o}}),e.jsx("p",{className:g.recipe_description,children:r}),e.jsx(le,{owner:c})]})},we=s=>s.split(`\r
`).filter(i=>i.trim()!=="").map(i=>`<p>${i}</p><br>`).join(""),ve="_recipe_preparation_1hfuv_1",ye="_instruction_1hfuv_19",k={recipe_preparation:ve,instruction:ye},ke=({instruction:s})=>e.jsxs("div",{children:[e.jsx("h4",{className:k.recipe_preparation,children:"Recipe Preparation"}),e.jsx("div",{className:k.instruction,dangerouslySetInnerHTML:{__html:we(s)}})]}),Ne="/project-foodies-frontend/assets/recipe_without_img-Bp4tHiOX.jpg",Re=({recipe:s})=>{const{thumb:i,title:n,instructions:o,ingredients:p,_id:r}=s,c=v(H),[I,l]=t.useState(c.includes(r)),S=v(M),[d,h]=t.useState(!1),[x,b]=t.useState(!0),[f,C]=t.useState(!1),[F]=P(),[L]=B();t.useEffect(()=>{l(c.includes(r))},[c,r]);const w=()=>{C(!f),b(!x)};return e.jsxs("section",{className:u.recipe_info_container,children:[e.jsx("img",{className:u.recipe_img,src:i||Ne,alt:n}),e.jsxs("div",{className:u.recipe_info_wrapper,children:[e.jsx(fe,{data:s}),e.jsx(te,{ingredients:p}),e.jsx(ke,{instruction:o}),S?I?e.jsx(m,{text:"Remove from favorites",variant:"add_favorite",onClick:()=>y(L,r,"delete",l)}):e.jsx(m,{text:"Add to favorites",variant:"add_favorite",onClick:()=>y(F,r,"add",l)}):e.jsx(m,{text:"Add to favorites",variant:"add_favorite",onClick:()=>{h(!d)}})]}),e.jsxs(T,{isOpen:d,onClose:()=>h(!d),children:[f&&e.jsx(A,{handleClickSignIn:w}),x&&e.jsx(E,{handleClickSignUp:w})]})]})},Ie="_header_popular_recipes_cshxa_1",Se="_popular_recipes_container_cshxa_17",be="_popular_recipes_list_cshxa_33",j={header_popular_recipes:Ie,popular_recipes_container:Se,popular_recipes_list:be},Ce=({recipes:s})=>{const{data:i}=s;return e.jsxs("ul",{className:j.popular_recipes_list,children:[i.map(({recipe:n})=>e.jsx(Q,{recipe:n},n._id))," "]})},Fe=()=>{const{data:s,isLoading:i}=U();return e.jsxs("section",{className:j.popular_recipes_container,children:[e.jsx("h3",{className:j.header_popular_recipes,children:"Popular recipes"}),i?e.jsx(N,{}):e.jsx(Ce,{recipes:s})]})},Le="_main_container_jkri4_1",$e={main_container:Le},Te=()=>{const{id:s}=q(),{data:i,isLoading:n}=D(s);return t.useEffect(()=>{window.scrollTo(0,0)},[s]),e.jsx(e.Fragment,{children:e.jsxs("main",{className:$e.main_container,children:[i&&e.jsx(z,{currentPage:i.data.title}),n?e.jsx(N,{}):e.jsx(Re,{recipe:i.data}),e.jsx(Fe,{})]})})};export{Te as default};
